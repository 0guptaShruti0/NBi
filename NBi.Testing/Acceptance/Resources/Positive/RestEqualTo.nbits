<?xml version="1.0" encoding="utf-8" ?>
<testSuite name="The Query TestSuite" xmlns="http://NBi/TestSuite">
  <test name="rest with parameters" uid="0000">
    <system-under-test>
      <execution>
        <rest path="calendars/$calendar$/$year$/$month$/$day$">
          <location base-address="http://calapi.inadiutorium.cz/api/v0/en/"/>
          <parameter name="calendar">default</parameter>
          <parameter name="year">2015</parameter>
          <parameter name="month">6</parameter>
          <parameter name="day">27</parameter>
        </rest>
      </execution>
    </system-under-test>
    <assert>
      <equalTo values-default-type="text">
        <column name="date" type="text" role="key"/>
        <column name="season_week" type="numeric" role="value"/>
        <column name="celebrations" type="table" role="value"/>
        <column name="celebrations.title" type="text" role="key"/>
        <column name="celebrations.colour" type="text" role="value"/>
        <resultSet>
          <row>
            <cell column-name="date">2015-06-27</cell>
            <cell column-name="season">ordinary</cell>
            <cell column-name="season_week">12</cell>
            <cell column-name="celebrations">
              <row>
                <cell column-name="title">(empty)</cell>
                <cell column-name="colour">green</cell>
              </row>
              <row>
                <cell>Saint Cyril of Alexandria, bishop and doctor</cell>
                <cell>white</cell>
              </row>
            </cell>
            <cell column-name="weekday">saturday</cell>
          </row>
        </resultSet>
      </equalTo>
    </assert>
  </test>
</testSuite>
